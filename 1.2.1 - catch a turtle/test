
# a121_catch_a_turtle.py
#-----import statements-----
import turtle as trtl
import random as rand
#-----game configuration----
#timer 
timer = 30
timer_up = False
timer_started = False



#shape fill color
fil_color = "IndianRed1"
#size
size = 4
#shape
shape = "square"

score = 0
#(
   # (0, 0),
   # (10, 40),
    #(20, 0),
    #(-10, 25),
   # (30, 25),
#)
#turtle.register_shape("spot", star_shape)

#font 
font_setup = ("Arial", 20,"normal")


#-----initialize turtle-----
#spot
spot = trtl.Turtle(shape=shape)
spot.turtlesize(size)
spot.fillcolor(fil_color)
spot.penup()

# start button turtle
start_button = trtl.Turtle()
start_button.shape("square")
start_button.color("green")
start_button.penup()
start_button.goto(0, 0)
start_button.write("Click to Start", align="center", font=("Arial", 16, "bold"))
#-----------------------------------
#score writer turtle
score_writer = trtl.Turtle()
score_writer.hideturtle()
score_writer.penup()
score_writer.goto(210,170)
score_writer.write(score,font=font_setup)

counter = trtl.Turtle()
counter.hideturtle()
counter.penup()
counter.goto(200, 160)     # change coords if you want it somewhere else
font_setup = ("Arial", 20, "normal")



#-----game functions--------

def update_score():
    global score
    score += 1
    score_writer.clear()
    score_writer.write("Score: " + str(score), font=font_setup)

def change_position():
    new_xpos = rand.randint(-200, 200)
    new_ypos = rand.randint(-150, 150)
    spot.penup()
    spot.hideturtle()
    spot.goto(new_xpos, new_ypos)
    spot.showturtle()

def countdown():
    global timer, timer_up
    counter.clear()
    if timer <= 0:
        counter.write("Time's Up!", font=font_setup)
        timer_up = True
        spot.hideturtle()
    else:
        counter.write("Timer: " + str(timer), font=font_setup)
        timer -= 1
        wn.ontimer(countdown, 1000)


def start_game(x, y):
    global timer_started
    start_button.clear()
    start_button.hideturtle()
    spot.showturtle()
    if not timer_started:
        timer_started = True
        countdown()

def spot_clicked(x, y):
    global timer_started, timer_up
    # start timer only once (on first click)
    if not timer_started:
        timer_started = True
        countdown()

    if timer_up:
        spot.hideturtle()
        return

    update_score()
    change_position()
score_writer.goto(-40, 180)  
counter.goto(60, 180)     




#-----events----------------
start_button.onclick(start_game)
spot.hideturtle()  # this will then keep the  turtle hidden until game starts overlal

spot.onclick(spot_clicked)

wn = trtl.Screen()

wn.setup(width=500, height=400)

wn.cv._rootwindow.resizable(False, False)

wn.mainloop()



